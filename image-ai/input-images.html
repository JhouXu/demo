<!DOCTYPE html>
<html lang="ch-ZN">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>input upload</title>
  </head>
  <body>
    <!-- <input type="file" capture="camera" /> -->

    <div class="contianer">
      <!-- input 掉起设备原生相机界面 -->
      <input type="file" class="input" accept="image/*" />
    </div>
  </body>

  <script>
    const inputDOM = document.querySelector("input");
    inputDOM.addEventListener("change", (e) => {
      var petter = /^image/;
      const fileData = e.target.files[0];

      if (!petter.test(fileData.type)) {
        alert("图片格式不正确");
        return;
      }

      var reader = new FileReader();
      reader.readAsArrayBuffer(fileData); // ArrayBuffer
      // reader.readAsDataURL(fileData); // base64
      reader.onload = function (e) {
        console.log(e);
      };
    });
  </script>
</html>
